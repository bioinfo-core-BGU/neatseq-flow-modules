

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Various Reporting Programs &mdash; NeatSeq_Flow Module Repository 1.1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="NeatSeq_Flow Module Repository 1.1.0 documentation" href="../index.html"/>
        <link rel="next" title="Assembly and Mapping" href="../Workflow_docs/Assembly_Indexing_mapping.html"/>
        <link rel="prev" title="Variant-related Tasks" href="Variants.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> NeatSeq_Flow Module Repository
          

          
            
            <img src="../_static/logo_Hor.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Modules</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="BAMConversion.html">BAM Conversion to Other Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="ChIPseq.html">ChIP-seq</a></li>
<li class="toctree-l1"><a class="reference internal" href="GenericModule.html">Generic Module</a></li>
<li class="toctree-l1"><a class="reference internal" href="GenomeAssembly.html">Genome Assembly</a></li>
<li class="toctree-l1"><a class="reference internal" href="Mapping.html">Mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="Metagenomics.html">Metagenomics</a></li>
<li class="toctree-l1"><a class="reference internal" href="Microbiology.html">Microbiology</a></li>
<li class="toctree-l1"><a class="reference internal" href="PreparationAndQC.html">Preparation and QC</a></li>
<li class="toctree-l1"><a class="reference internal" href="QIIME.html">QIIME (version 1.9)</a></li>
<li class="toctree-l1"><a class="reference internal" href="SequenceAnnotation.html">Sequence Annotation</a></li>
<li class="toctree-l1"><a class="reference internal" href="SequenceClustering.html">Sequence Clustering</a></li>
<li class="toctree-l1"><a class="reference internal" href="SequenceSearching.html">Sequence-Searching Related Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="TranscriptomeAssembly.html">Transcriptome Assembly</a></li>
<li class="toctree-l1"><a class="reference internal" href="Variants.html">Variant-related Tasks</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Various Reporting Programs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#ngsplot"><code class="docutils literal"><span class="pre">NGSplot</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#requires">Requires</a></li>
<li class="toctree-l3"><a class="reference internal" href="#output">Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parameters-that-can-be-set">Parameters that can be set</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lines-for-parameter-file">Lines for parameter file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#multiqc"><code class="docutils literal"><span class="pre">Multiqc</span></code> <sup>*</sup></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Requires</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">Lines for parameter file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">References</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-collect-results">Module <code class="docutils literal"><span class="pre">Collect_results</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">Requires</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id7">Parameters that can be set</a></li>
<li class="toctree-l3"><a class="reference internal" href="#comments">Comments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">Lines for parameter file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">References</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Workflows</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Workflow_docs/Assembly_Indexing_mapping.html">Assembly and Mapping</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Workflow_docs/BLAST_db.html">BLAST on <cite>fasta</cite> files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Workflow_docs/BLAST_fasta.html">Assembly and Searching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Workflow_docs/ChIP_seq_bowtie2.html">ChIP-seq analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Workflow_docs/Metagenomics.html">Metagenomics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Workflow_docs/RNA_seq_Trinity.html">Non-Model Transcriptomics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Workflow_docs/RNA_seq_reference.html">Reference-based Transcriptomics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Workflow_docs/variant_calling.html">Variant calling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Workflow_docs/Clustering.html">Read clustering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Workflow_docs/QIIME_workflow.html">QIIME analysis</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">NeatSeq_Flow Module Repository</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Various Reporting Programs</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/Module_docs/VariousReportingPrograms.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="various-reporting-programs">
<h1>Various Reporting Programs<a class="headerlink" href="#various-reporting-programs" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="modules-included-in-this-section">
<p class="topic-title first">Modules included in this section</p>
<ul class="simple">
<li><a class="reference internal" href="#ngsplot" id="id10"><code class="docutils literal"><span class="pre">NGSplot</span></code></a></li>
<li><a class="reference internal" href="#multiqc" id="id11"><code class="docutils literal"><span class="pre">Multiqc</span></code> <sup>*</sup></a></li>
<li><a class="reference internal" href="#module-collect-results" id="id12">Module <code class="docutils literal"><span class="pre">Collect_results</span></code></a></li>
</ul>
</div>
<span class="target" id="module-Reports.NGSplot"></span><div class="section" id="ngsplot">
<h2><a class="toc-backref" href="#id10"><code class="docutils literal"><span class="pre">NGSplot</span></code></a><a class="headerlink" href="#ngsplot" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Authors:</th><td class="field-body">Menachem Sklarz</td>
</tr>
<tr class="field-even field"><th class="field-name">Affiliation:</th><td class="field-body">Bioinformatics core facility</td>
</tr>
<tr class="field-odd field"><th class="field-name">Organization:</th><td class="field-body">National Institute of Biotechnology in the Negev, Ben Gurion University.</td>
</tr>
</tbody>
</table>
<p>A module for running NGSplot:</p>
<p>Runs NGSplot on existing <strong>sorted</strong> BAM files.</p>
<p>Please make sure the BAM is sorted, such as following the <code class="docutils literal"><span class="pre">samtools</span></code> module</p>
<p>If this is a ChIP-seq experiment and you have controls defined, it will also run NGSplot for the sample:control comparison.</p>
<p>At the moment, the module works only at the sample scope. (BAM files in the project scope are rare!)</p>
<div class="section" id="requires">
<h3>Requires<a class="headerlink" href="#requires" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">BAM files in the following slots:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">sample_data[&lt;sample&gt;][&quot;bam&quot;]</span></code></li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="output">
<h3>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Puts output NGS reports in the following slots:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">self.sample_data[&lt;sample&gt;][&quot;NGSplot&quot;]</span></code></li>
</ul>
</div></blockquote>
</li>
<li><p class="first">For ChIP-seq data, puts comparison reports in</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">self.sample_data[&lt;sample&gt;][&quot;NGSplot_vs_control&quot;]</span></code></li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="parameters-that-can-be-set">
<h3>Parameters that can be set<a class="headerlink" href="#parameters-that-can-be-set" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="43%" />
<col width="29%" />
<col width="29%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Values</th>
<th class="head">Comments</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>setenv</td>
<td>NGSPLOT=/path/to/ngsplot</td>
<td>Running NGSplot requires setting this EV.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="lines-for-parameter-file">
<h3>Lines for parameter file<a class="headerlink" href="#lines-for-parameter-file" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">NGSplot_genebody</span><span class="p">:</span>
    <span class="n">module</span><span class="p">:</span>             <span class="n">NGSplot</span>
    <span class="n">base</span><span class="p">:</span>               <span class="n">sam_base</span>
    <span class="n">script_path</span><span class="p">:</span>        <span class="n">Rscript</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">ngsplot</span><span class="o">-</span><span class="mf">2.61</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">ngs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">r</span>
    <span class="n">setenv</span><span class="p">:</span>             <span class="n">NGSPLOT</span><span class="o">=/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">ngsplot</span><span class="o">-</span><span class="mf">2.61</span>
    <span class="n">redirects</span><span class="p">:</span>
        <span class="o">-</span><span class="n">G</span><span class="p">:</span>             <span class="n">mm10</span>
        <span class="o">-</span><span class="n">R</span><span class="p">:</span>             <span class="n">genebody</span>
        <span class="o">-</span><span class="n">P</span><span class="p">:</span>             <span class="mi">20</span>
        <span class="o">-</span><span class="n">GO</span><span class="p">:</span>            <span class="n">hc</span>
    <span class="n">qsub_params</span><span class="p">:</span>
        <span class="o">-</span><span class="n">pe</span><span class="p">:</span>            <span class="n">shared</span> <span class="mi">20</span>
</pre></div>
</div>
</div>
<div class="section" id="references">
<h3>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h3>
<p>Shen, L., Shao, N., Liu, X. and Nestler, E., 2014. <strong>ngs.plot: Quick mining and visualization of next-generation sequencing data by integrating genomic databases</strong>. <em>BMC genomics</em>, 15(1), p.284.</p>
</div>
</div>
<span class="target" id="module-main_NSF_classes.Reports.Multiqc"></span><div class="section" id="multiqc">
<h2><a class="toc-backref" href="#id11"><code class="docutils literal"><span class="pre">Multiqc</span></code> <sup>*</sup></a><a class="headerlink" href="#multiqc" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Authors:</th><td class="field-body">Menachem Sklarz</td>
</tr>
<tr class="field-even field"><th class="field-name">Affiliation:</th><td class="field-body">Bioinformatics core facility</td>
</tr>
<tr class="field-odd field"><th class="field-name">Organization:</th><td class="field-body">National Institute of Biotechnology in the Negev, Ben Gurion University.</td>
</tr>
</tbody>
</table>
<p>A module for preparing a MultiQC report for all samples</p>
<div class="section" id="id1">
<h3>Requires<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>No real requirements. Will give a report with information if one of the base steps produces reports that MultiQC can read, <em>e.g.</em> fastqc, bowtie2, samtools etc.</li>
</ul>
</div>
<div class="section" id="id2">
<h3>Output<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">puts report dir in the following slot:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal"><span class="pre">self.sample_data[&lt;sample&gt;][&quot;Multiqc_report&quot;]</span></code></li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id3">
<h3>Lines for parameter file<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">firstMultQC</span><span class="p">:</span>
    <span class="n">module</span><span class="p">:</span> <span class="n">Multiqc</span>
    <span class="n">base</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">sam_bwt2_1</span>
    <span class="o">-</span> <span class="n">fqc_trim1</span>
    <span class="n">script_path</span><span class="p">:</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">multiqc</span>
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h3>References<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>Ewels, P., Magnusson, M., Lundin, S. and Käller, M., 2016. <strong>MultiQC: summarize analysis results for multiple tools and samples in a single report</strong>. <em>Bioinformatics</em>, 32(19), pp.3047-3048.</p>
</div>
</div>
<span class="target" id="module-Liron.Collect_results_module.Collect_results"></span><div class="section" id="module-collect-results">
<h2><a class="toc-backref" href="#id12">Module <code class="docutils literal"><span class="pre">Collect_results</span></code></a><a class="headerlink" href="#module-collect-results" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Authors:</th><td class="field-body">Liron Levin</td>
</tr>
<tr class="field-even field"><th class="field-name">Affiliation:</th><td class="field-body">Bioinformatics core facility</td>
</tr>
<tr class="field-odd field"><th class="field-name">Organization:</th><td class="field-body">National Institute of Biotechnology in the Negev, Ben Gurion University.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This module was developed as part of a study led by Dr. Jacob Moran Gilad</p>
</div>
<dl class="docutils">
<dt>SHORT DESCRIPTION</dt>
<dd>A module to Collect and merge/append results from all base steps directories:
This module will search for each base step for all the results files with a common name pattern [Regular expression].
The search will be done within the base step result directories.
The sample name could be inferred for each result file base on the parent directory name and added to the merged file [as new column named “Samples”].
All the results files will be append [by default] or merged by a common column name.
The merge files can then be convert individually to pivot table file</dd>
</dl>
<div class="section" id="id5">
<h3>Requires<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Tab delimited files with common name pattern found within the base step data directories:</li>
<li><code class="docutils literal"><span class="pre">For</span> <span class="pre">example</span> <span class="pre">files</span> <span class="pre">ending</span> <span class="pre">with</span> <span class="pre">.out</span></code></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id6">
<h3>Output<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Generate merged tab delimited files:</li>
<li><code class="docutils literal"><span class="pre">Will</span> <span class="pre">generate</span> <span class="pre">file</span> <span class="pre">for</span> <span class="pre">each</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">base</span> <span class="pre">steps</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">file</span> <span class="pre">ending</span> <span class="pre">with</span> <span class="pre">.merg</span></code></li>
<li>Can also generate Excel file with sheet for each base step</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="id7">
<h3>Parameters that can be set<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="43%" />
<col width="29%" />
<col width="29%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Values</th>
<th class="head">Comments</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>PARAMETER NAME</td>
<td>POSSIBLE VALUES</td>
<td>DESCRIPTION</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="comments">
<h3>Comments<a class="headerlink" href="#comments" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id8">
<h3>Lines for parameter file<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>::</dt>
<dd><dl class="first last docutils">
<dt>Step_Name:                            # Name of this step</dt>
<dd><p class="first">module: Collect_results           # Name of the used module
base:                             # Name of the step [or list of names] to run after and collect results from [must be after a merge step]
script_path:                      # Command for running the a merging script</p>
<blockquote>
<div># If this line is empty or missing it will try using the module’s associated script</div></blockquote>
<dl class="last docutils">
<dt>redirects:</dt>
<dd><p class="first">-R:                           # Regular expression to find result files
–Merge_by:                   # Merge files by common column
–header:                     # Don’t use a header row, use integers instead [0,1,2,3…], easy to use with –pivot option
–Excel:                      # Collect all results to excel file split by sheets
–add_samples_names:          # Infer and add samples names from file parent directory to “Samples” column
–pivot:                      # Convert to pivot table by [index columns values]</p>
<blockquote>
<div># If with the options: -add_samples_names and –header  it is possible to use: ‘’‘Samples’’ ‘5’ ‘0’‘</div></blockquote>
<p class="last">–MetaData:                   # Use external MetaData file as the base for merging
–split_by:                   # Split the data in the columns [index &lt;columns&gt; values] before pivot
–sep:                        # Columns separator for input file
-T:                           # Write Transpose output</p>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="id9">
<h3>References<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h3>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Workflow_docs/Assembly_Indexing_mapping.html" class="btn btn-neutral float-right" title="Assembly and Mapping" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Variants.html" class="btn btn-neutral" title="Variant-related Tasks" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Menachem Sklarz.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>